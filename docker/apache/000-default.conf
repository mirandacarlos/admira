<VirtualHost *:80>
        ServerAdmin webmaster@localhost
        DocumentRoot /var/www/html/public

        <Directory /var/www/html/public>
            Options -Indexes +FollowSymLinks
            AllowOverride All
            Require all granted

            <IfModule mod_rewrite.c>
                RewriteEngine On
                # Si el archivo o directorio no existe físicamente
                RewriteCond %{REQUEST_FILENAME} !-f
                RewriteCond %{REQUEST_FILENAME} !-d
                # Redirige todo a index.php
                RewriteRule ^ index.php [L,QSA]
            </IfModule>
        </Directory>

        # Headers de seguridad básicos
        <IfModule mod_headers.c>
            Header set X-Content-Type-Options "nosniff"
            Header set X-Frame-Options "SAMEORIGIN"
            Header set X-XSS-Protection "1; mode=block"
        </IfModule>

        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>